---
# vars file for kibana

linux::directories:
  /usr/share:
    owner:  '0'
    group:  '0'
    mode:   '0755'
  /usr/share/kibana:
    ensure: 'link'
    owner:  '0'
    group:  '0'
    target: '/app/kibana'
  /app:
    owner:  '0'
    group:  '0'
    mode:   '0755'
  /app/kibana:
    owner:  'kibana'
    group:  'kibana'
    mode:   '2775'

linux::users:
  'kibana':
     home: '/app/kibana'
     group: kibana
     uid: 4002

linux::groups:
  'kibana':
     state: present
     gid: 4001

linux::packages:
  'java-1.8.0-openjdk':
    ensure: latest
  'java-1.8.0-openjdk-devel':
    ensure: latest
  'java-1.8.0-openjdk-headless':
    ensure: latest
  'sudo':
    ensure: latest

kibana::packages:
  'kibana':
    ensure: latest

kibana::config::owner:                     kibana
kibana::config::group:                     kibana
kibana::config::app_home:                  /app/kibana
kibana::config::configfile:              /etc/kibana/kibana.yml
kibana::config::server_port:               5601
kibana::config::kibana_index:              .kibana
kibana::config::elasticsearch_url:         "localhost:9200"
kibana::config::firewalld::ports:
  - '5601/tcp'
